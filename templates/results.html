{% extends 'base.html' %} {% block body %}

<h1 class="center" id="'select-a-recipe">Now lets choose a recipe!</h1>

{% for recipe in recipes %}
<div class="center">
  <a>{{ recipe['title'] }}</a>
  <form action="/recipe_player" method="POST">
    <div class="center glow">
      <img class="result_image" src="{{ recipe['image'] }}" alt="" />
      <button
        id="recipe"
        name="recipe"
        class="button recipeButton glow"
        type="submit"
        value="{{ recipe['title'] }}"
      >
        "{{ recipe['title'] }}"
      </button>
    </div>
  </form>
</div>
{% endfor %}
<h1 class="center">TOO HARD TO CHOOSE ?!</h1>
<div class="container">
  <div class="row">
    <div class="col-sm">
      <form action="/" methods="get">
        <button class="button col center" type="submit">
          GO BACK AND SELECT ANOTHER CUISINE
        </button>
      </form>
    </div>
    <div class="col-sm">
      <form action="/favorites" method="GET">
        <button class="button glow btn-outline-info fav-btn" type="submit">
          GO TO MY FAVORITES
        </button>
      </form>
    </div>
  </div>

  {% endblock %}
  <!-- <script>

    const makeRequest = (event) => {
        let request = new XMLHttpRequest();
        let url = "/recipe_player";
        let data = JSON.stringify(event.target.value);
        
        request.open("POST", url, true);
        request.setRequestHeader('Content-Type', 'application/json');
        request.send(data);

    }
    let buttons = document.querySelectorAll('.recipeButton');

    for(let button of buttons){
        button.addEventListener('click', makeRequest);
    }
</script> -->

  <!-- fetch (recipe player
         return json so i can get() -->
</div>
